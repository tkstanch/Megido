{% extends "base.html" %}

{% block title %}{{ title }} - Megido Security{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="alert alert-warning" role="alert">
        <strong>Warning:</strong> Stub implementation - files are accepted but not actually scanned for real malware
    </div>

    <h1>{{ title }}</h1>

    <div class="card mt-4">
        <div class="card-body">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label for="file" class="form-label">Select File to Upload</label>
                    <input class="form-control" type="file" id="file" name="file" required>
                    <div class="form-text">
                        All file types accepted. Maximum size: 100MB.
                        <br><strong>Note:</strong> This is a stub implementation - no real malware detection will occur.
                    </div>
                </div>

                <div class="alert alert-info" role="alert">
                    <h6>Security Considerations for Real Implementation:</h6>
                    <ul class="mb-0">
                        <li>Validate file types and extensions</li>
                        <li>Scan in isolated sandbox environment</li>
                        <li>Store in encrypted, quarantined location</li>
                        <li>Implement size and rate limits</li>
                        <li>Log all upload activities</li>
                    </ul>
                </div>

                <button type="submit" class="btn btn-primary">Upload File</button>
                <a href="{% url 'malware_analyser:home' %}" class="btn btn-secondary">Cancel</a>
            </form>
        </div>
    </div>

    <!-- Messages -->
    {% if messages %}
        <div class="mt-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
